{"ast":null,"code":"var _jsxFileName = \"E:\\\\React Web\\\\expmngr\\\\src\\\\Auth\\\\SignUp.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { getFirestore, doc } from 'firebase/firestore';\nimport { createUserWithEmailAndPassword, getAuth } from 'firebase/auth';\nimport app from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUp = () => {\n  _s();\n\n  const [signUpEmail, setSignUpEmail] = useState('');\n  const [signUpPassword, setSignUpPassword] = useState('');\n  const auth = getAuth(app);\n  const db = getFirestore();\n\n  const createUserDocument = async (user, additionalData) => {\n    if (!user) return;\n    const userRef = db.doc(`users/${user.uid}`);\n    const snapshot = await userRef.get();\n\n    if (!snapshot.exists) {\n      const {\n        email\n      } = user;\n      const {\n        displayName\n      } = additionalData;\n\n      try {\n        await userRef.set({\n          displayName,\n          email,\n          createdAt: new Date()\n        });\n      } catch (error) {\n        console.log('Error in creating user', error);\n      }\n    }\n  };\n\n  const handleSignUp = async e => {\n    e.preventDefault();\n    const displayName = 'Prathap';\n    const user = await createUserWithEmailAndPassword(auth, signUpEmail, signUpPassword);\n    await createUserDocument(user, {\n      displayName\n    });\n    console.log(user);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSignUp,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"email\",\n      type: \"email\",\n      onChange: e => setSignUpEmail(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"password\",\n      type: \"text\",\n      onChange: e => setSignUpPassword(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n};\n\n_s(SignUp, \"FpN32yuLulh4uPqGmLtMI0tkHtA=\");\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["E:/React Web/expmngr/src/Auth/SignUp.js"],"names":["useState","getFirestore","doc","createUserWithEmailAndPassword","getAuth","app","SignUp","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","auth","db","createUserDocument","user","additionalData","userRef","uid","snapshot","get","exists","email","displayName","set","createdAt","Date","error","console","log","handleSignUp","e","preventDefault","target","value"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,YAAT,EAAuBC,GAAvB,QAAkC,oBAAlC;AACA,SAASC,8BAAT,EAAyCC,OAAzC,QAAwD,eAAxD;AACA,OAAOC,GAAP,MAAgB,aAAhB;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACpB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACS,cAAD,EAAiBC,iBAAjB,IAAsCV,QAAQ,CAAC,EAAD,CAApD;AACA,QAAMW,IAAI,GAAGP,OAAO,CAACC,GAAD,CAApB;AACA,QAAMO,EAAE,GAAGX,YAAY,EAAvB;;AAEA,QAAMY,kBAAkB,GAAG,OAAOC,IAAP,EAAaC,cAAb,KAAgC;AAC1D,QAAI,CAACD,IAAL,EAAW;AAEX,UAAME,OAAO,GAAGJ,EAAE,CAACV,GAAH,CAAQ,SAAQY,IAAI,CAACG,GAAI,EAAzB,CAAhB;AAEA,UAAMC,QAAQ,GAAG,MAAMF,OAAO,CAACG,GAAR,EAAvB;;AAEA,QAAI,CAACD,QAAQ,CAACE,MAAd,EAAsB;AACrB,YAAM;AAAEC,QAAAA;AAAF,UAAYP,IAAlB;AACA,YAAM;AAAEQ,QAAAA;AAAF,UAAkBP,cAAxB;;AAEA,UAAI;AACH,cAAMC,OAAO,CAACO,GAAR,CAAY;AACjBD,UAAAA,WADiB;AAEjBD,UAAAA,KAFiB;AAGjBG,UAAAA,SAAS,EAAE,IAAIC,IAAJ;AAHM,SAAZ,CAAN;AAKA,OAND,CAME,OAAOC,KAAP,EAAc;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,KAAtC;AACA;AACD;AACD,GArBD;;AAuBA,QAAMG,YAAY,GAAG,MAAOC,CAAP,IAAa;AACjCA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMT,WAAW,GAAG,SAApB;AACA,UAAMR,IAAI,GAAG,MAAMX,8BAA8B,CAChDQ,IADgD,EAEhDJ,WAFgD,EAGhDE,cAHgD,CAAjD;AAKA,UAAMI,kBAAkB,CAACC,IAAD,EAAO;AAAEQ,MAAAA;AAAF,KAAP,CAAxB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYd,IAAZ;AACA,GAVD;;AAWA,sBACC;AAAM,IAAA,QAAQ,EAAEe,YAAhB;AAAA,4BACC;AACC,MAAA,WAAW,EAAC,OADb;AAEC,MAAA,IAAI,EAAC,OAFN;AAGC,MAAA,QAAQ,EAAGC,CAAD,IAAOtB,cAAc,CAACsB,CAAC,CAACE,MAAF,CAASC,KAAV;AAHhC;AAAA;AAAA;AAAA;AAAA,YADD,eAMC;AAAA;AAAA;AAAA;AAAA,YAND,eAOC;AACC,MAAA,WAAW,EAAC,UADb;AAEC,MAAA,IAAI,EAAC,MAFN;AAGC,MAAA,QAAQ,EAAGH,CAAD,IAAOpB,iBAAiB,CAACoB,CAAC,CAACE,MAAF,CAASC,KAAV;AAHnC;AAAA;AAAA;AAAA;AAAA,YAPD,eAYC;AAAA;AAAA;AAAA;AAAA,YAZD,eAaC;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAiBA,CAzDD;;GAAM3B,M;;KAAAA,M;AA0DN,eAAeA,MAAf","sourcesContent":["import { useState } from 'react';\r\nimport { getFirestore, doc } from 'firebase/firestore';\r\nimport { createUserWithEmailAndPassword, getAuth } from 'firebase/auth';\r\nimport app from '../firebase';\r\n\r\nconst SignUp = () => {\r\n\tconst [signUpEmail, setSignUpEmail] = useState('');\r\n\tconst [signUpPassword, setSignUpPassword] = useState('');\r\n\tconst auth = getAuth(app);\r\n\tconst db = getFirestore();\r\n\r\n\tconst createUserDocument = async (user, additionalData) => {\r\n\t\tif (!user) return;\r\n\r\n\t\tconst userRef = db.doc(`users/${user.uid}`);\r\n\r\n\t\tconst snapshot = await userRef.get();\r\n\r\n\t\tif (!snapshot.exists) {\r\n\t\t\tconst { email } = user;\r\n\t\t\tconst { displayName } = additionalData;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait userRef.set({\r\n\t\t\t\t\tdisplayName,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tcreatedAt: new Date(),\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('Error in creating user', error);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSignUp = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst displayName = 'Prathap';\r\n\t\tconst user = await createUserWithEmailAndPassword(\r\n\t\t\tauth,\r\n\t\t\tsignUpEmail,\r\n\t\t\tsignUpPassword\r\n\t\t);\r\n\t\tawait createUserDocument(user, { displayName });\r\n\t\tconsole.log(user);\r\n\t};\r\n\treturn (\r\n\t\t<form onSubmit={handleSignUp}>\r\n\t\t\t<input\r\n\t\t\t\tplaceholder='email'\r\n\t\t\t\ttype='email'\r\n\t\t\t\tonChange={(e) => setSignUpEmail(e.target.value)}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<input\r\n\t\t\t\tplaceholder='password'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tonChange={(e) => setSignUpPassword(e.target.value)}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<button type='submit'>Sign Up</button>\r\n\t\t</form>\r\n\t);\r\n};\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}